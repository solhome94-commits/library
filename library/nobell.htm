<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì´ˆë“± ë…¸ë²¨ ë¬¸í•™ìƒ íƒí—˜ëŒ€</title>
    <style>
        body {
            font-family: 'Nanum Gothic', sans-serif;
            background-color: #fff9e6;
            display: flex; justify-content: center; align-items: center;
            min-height: 100vh; margin: 0; color: #333;
        }

        #game-container {
            width: 90%; max-width: 500px; background: white;
            border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden; text-align: center; position: relative;
        }

        /* í—¤ë” ìŠ¤íƒ€ì¼ */
        .header { background: #f39c12; color: white; padding: 20px; }
        .header h1 { margin: 0; font-size: 22px; }

        /* í™”ë©´ë“¤ */
        .screen { padding: 30px; display: none; }
        .active { display: block; }

        /* ì¸íŠ¸ë¡œ í™”ë©´ */
        .intro-img { font-size: 60px; margin-bottom: 20px; }
        .start-btn {
            background: #f39c12; color: white; border: none; padding: 15px 40px;
            border-radius: 30px; font-size: 18px; cursor: pointer; transition: 0.3s;
        }
        .start-btn:hover { transform: scale(1.05); background: #e67e22; }

        /* í€´ì¦ˆ í™”ë©´ */
        .question-box { font-size: 18px; font-weight: bold; margin-bottom: 20px; min-height: 60px; }
        .options { display: grid; gap: 10px; }
        .option-btn {
            padding: 12px; border: 2px solid #eee; border-radius: 10px;
            background: white; cursor: pointer; transition: 0.2s; font-size: 15px;
        }
        .option-btn:hover { background: #fff4e0; border-color: #f39c12; }

        /* ì¹´ë“œ ë§¤ì¹­ í™”ë©´ */
        .grid {
            display: grid; grid-template-columns: repeat(3, 1fr);
            gap: 10px; margin-top: 15px;
        }
        .card {
            height: 100px; background: #3498db; color: white;
            border-radius: 10px; display: flex; align-items: center;
            justify-content: center; font-size: 12px; cursor: pointer;
            padding: 5px; word-break: keep-all; font-weight: bold;
        }
        .card.flipped { background: white; color: #333; border: 2px solid #3498db; }
        .card.matched { background: #2ecc71; visibility: hidden; }

        /* ê²°ê³¼ í™”ë©´ */
        .result-score { font-size: 40px; color: #f39c12; font-weight: bold; margin: 20px 0; }
        .winner-img { width: 150px; margin-bottom: 20px; }
    </style>
</head>
<body>

<div id="game-container">
    <div class="header">
        <h1>ğŸ† ë…¸ë²¨ ë¬¸í•™ìƒ íƒí—˜ëŒ€</h1>
    </div>

    <div id="intro-screen" class="screen active">
        <div class="intro-img">ğŸ“œ</div>
        <p>ì „ ì„¸ê³„ì—ì„œ ê°€ì¥ í›Œë¥­í•œ ì±…ì„ ì“´<br>ì‘ê°€ë“¤ì´ ë°›ëŠ” <b>'ë…¸ë²¨ ë¬¸í•™ìƒ'</b>!<br><br>ì‘ê°€ì˜ ì´ë¦„ê³¼ ì‘í’ˆì„ ì°¾ì•„ ë– ë‚˜ë³¼ê¹Œìš”?</p>
        <button class="start-btn" onclick="startQuiz()">íƒí—˜ ì‹œì‘!</button>
    </div>

    <div id="quiz-screen" class="screen">
        <div id="quiz-progress" style="font-size: 12px; color: #888; margin-bottom: 10px;">ì§ˆë¬¸ 1/3</div>
        <div class="question-box" id="question">ì§ˆë¬¸ ë¡œë”© ì¤‘...</div>
        <div class="options" id="options"></div>
    </div>

    <div id="matching-screen" class="screen">
        <p><b>ë¯¸ì…˜: ì‘ê°€ì™€ ì‘í’ˆì„ ì§ì§€ì–´ì£¼ì„¸ìš”!</b></p>
        <div class="grid" id="card-grid"></div>
    </div>

    <div id="result-screen" class="screen">
        <h2>ì¶•í•˜í•©ë‹ˆë‹¤!</h2>
        <div class="result-score" id="final-score">0ì </div>
        <p id="result-msg"></p>
        <img class="winner-img" src="https://cdn-icons-png.flaticon.com/512/3112/3112946.png" alt="ìƒì¥">
        <br>
        <button class="start-btn" onclick="location.reload()">ë‹¤ì‹œ í•˜ê¸°</button>
    </div>
</div>

<script>
    // í€´ì¦ˆ ë°ì´í„°
    const quizData = [
        {
            q: "ë…¸ë²¨ ìƒì„ ë§Œë“  'ì•Œí”„ë ˆë“œ ë…¸ë²¨'ì€ ì–´ëŠ ë‚˜ë¼ ì‚¬ëŒì¼ê¹Œìš”?",
            a: ["ìŠ¤ì›¨ë´", "ëŒ€í•œë¯¼êµ­", "ë¯¸êµ­", "í”„ë‘ìŠ¤"],
            correct: 0
        },
        {
            q: "2024ë…„, í•œêµ­ì¸ ìµœì´ˆë¡œ ë…¸ë²¨ ë¬¸í•™ìƒì„ ë°›ì€ ì‘ê°€ëŠ” ëˆ„êµ¬ì¼ê¹Œìš”?",
            a: ["í™©ìˆœì›", "í•œê°•", "ì´ë¬¸ì—´", "ë°©ì •í™˜"],
            correct: 1
        },
        {
            q: "ë…¸ë²¨ ë¬¸í•™ìƒì€ ì–´ë–¤ ì‚¬ëŒì—ê²Œ ì£¼ëŠ” ìƒì¼ê¹Œìš”?",
            a: ["ìš´ë™ì„ ì˜í•˜ëŠ” ì‚¬ëŒ", "ê·¸ë¦¼ì„ ì˜ ê·¸ë¦¬ëŠ” ì‚¬ëŒ", "í›Œë¥­í•œ ê¸€ì„ ì“´ ì‚¬ëŒ", "ë…¸ë˜ë¥¼ ì˜ ë¶€ë¥´ëŠ” ì‚¬ëŒ"],
            correct: 2
        }
    ];

    // ì¹´ë“œ ë§¤ì¹­ ë°ì´í„°
    const matchItems = [
        { key: 'í•œê°•', val: 'ì±„ì‹ì£¼ì˜ì' },
        { key: 'ìƒí…ì¥í˜ë¦¬', val: 'ì–´ë¦° ì™•ì' },
        { key: 'í—¤ë¥´ë§Œ í—¤ì„¸', val: 'ë°ë¯¸ì•ˆ' }
    ];

    let currentQuizIdx = 0;
    let score = 0;
    let flippedCards = [];

    // í™”ë©´ ì „í™˜ í•¨ìˆ˜
    function showScreen(screenId) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(screenId).classList.add('active');
    }

    // í€´ì¦ˆ ì‹œì‘
    function startQuiz() {
        showScreen('quiz-screen');
        loadQuiz();
    }

    function loadQuiz() {
        const data = quizData[currentQuizIdx];
        document.getElementById('quiz-progress').innerText = `ì§ˆë¬¸ ${currentQuizIdx + 1} / ${quizData.length}`;
        document.getElementById('question').innerText = data.q;
        
        const optionsDiv = document.getElementById('options');
        optionsDiv.innerHTML = '';
        data.a.forEach((opt, i) => {
            const btn = document.createElement('button');
            btn.classList.add('option-btn');
            btn.innerText = opt;
            btn.onclick = () => checkQuiz(i);
            optionsDiv.appendChild(btn);
        });
    }

    function checkQuiz(idx) {
        if (idx === quizData[currentQuizIdx].correct) {
            score += 20;
            alert("ì •ë‹µì´ì—ìš”! ì°¸ ì˜í–ˆì–´ìš”. ğŸ‘");
        } else {
            alert("ì•„ì‰¬ì›Œìš”! ë‹¤ìŒ ë¬¸ì œë¥¼ ë§ì¶°ë´ìš”. ğŸ˜Š");
        }
        
        currentQuizIdx++;
        if (currentQuizIdx < quizData.length) {
            loadQuiz();
        } else {
            startMatching();
        }
    }

    // ì¹´ë“œ ë§¤ì¹­ ì‹œì‘
    function startMatching() {
        showScreen('matching-screen');
        const grid = document.getElementById('card-grid');
        
        // ë°ì´í„° ì„ê¸°
        let cards = [];
        matchItems.forEach(item => {
            cards.push({ text: item.key, id: item.key });
            cards.push({ text: item.val, id: item.key });
        });
        cards.sort(() => Math.random() - 0.5);

        cards.forEach((c, i) => {
            const cardDiv = document.createElement('div');
            cardDiv.classList.add('card');
            cardDiv.innerText = "?";
            cardDiv.dataset.id = c.id;
            cardDiv.dataset.text = c.text;
            cardDiv.onclick = function() { flipCard(this); };
            grid.appendChild(cardDiv);
        });
    }

    function flipCard(card) {
        if (flippedCards.length < 2 && !card.classList.contains('flipped')) {
            card.classList.add('flipped');
            card.innerText = card.dataset.text;
            flippedCards.push(card);

            if (flippedCards.length === 2) {
                setTimeout(checkMatch, 800);
            }
        }
    }

    function checkMatch() {
        const [c1, c2] = flippedCards;
        if (c1.dataset.id === c2.dataset.id) {
            c1.classList.add('matched');
            c2.classList.add('matched');
            score += 20;
            if (document.querySelectorAll('.matched').length === 6) {
                showResult();
            }
        } else {
            c1.classList.remove('flipped');
            c2.classList.remove('flipped');
            c1.innerText = "?";
            c2.innerText = "?";
        }
        flippedCards = [];
    }

    // ê²°ê³¼ í™”ë©´
    function showResult() {
        showScreen('result-screen');
        document.getElementById('final-score').innerText = score + "ì ";
        let msg = "";
        if (score >= 80) msg = "ë‹¹ì‹ ì€ ë©‹ì§„ ë…¸ë²¨ ë¬¸í•™ìƒ ë°•ì‚¬ë‹˜êµ°ìš”! ğŸ…";
        else if (score >= 50) msg = "ì‘ê°€ë‹˜ë“¤ì— ëŒ€í•´ ë§ì´ ë°°ì› ë„¤ìš”! ì¡°ê¸ˆ ë” ì±…ê³¼ ì¹œí•´ì ¸ ë³¼ê¹Œìš”? ğŸ“š";
        else msg = "íƒí—˜ ì™„ë£Œ! ë…¸ë²¨ ë¬¸í•™ìƒ ì‘ê°€ë‹˜ë“¤ì˜ ì±…ì„ í•œ ë²ˆ ì½ì–´ë³´ì„¸ìš”! ğŸ“–";
        document.getElementById('result-msg').innerText = msg;
    }
</script>

</body>
</html>