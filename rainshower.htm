<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì†Œë‚˜ê¸°: ì¸í„°ë™í‹°ë¸Œ ë…¸ë²¨</title>
    <style>
        body {
            font-family: 'Nanum Gothic', sans-serif;
            background-color: #1a1a2e;
            display: flex; justify-content: center; align-items: center;
            height: 100vh; margin: 0; color: #333;
        }

        #game-window {
            width: 100%; max-width: 500px; height: 800px;
            background: white; border-radius: 20px; overflow: hidden;
            display: flex; flex-direction: column; position: relative;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }

        /* í‘œì§€ í™”ë©´ */
        #start-screen {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), 
                        url('https://images.unsplash.com/photo-1543791187-df796fa11835?q=80&w=800');
            background-size: cover; background-position: center;
            display: flex; flex-direction: column; justify-content: center;
            align-items: center; text-align: center; color: white; z-index: 20;
            padding: 30px; box-sizing: border-box;
        }

        #start-screen h1 { font-size: 40px; margin-bottom: 20px; letter-spacing: 5px; }
        #start-screen p { font-size: 16px; line-height: 1.8; margin-bottom: 40px; word-break: keep-all; }
        
        .start-btn {
            padding: 15px 50px; font-size: 18px; background: #4a6741; color: white;
            border: none; border-radius: 30px; cursor: pointer; transition: 0.3s;
        }
        .start-btn:hover { background: #5d8252; transform: scale(1.05); }

        /* ê²Œì„ í™”ë©´ */
        #scene-bg { height: 45%; width: 100%; background-size: cover; background-position: center; transition: 0.8s; position: relative; }
        #stat-bar { position: absolute; top: 15px; left: 15px; background: rgba(255, 255, 255, 0.9); padding: 8px 15px; border-radius: 15px; font-weight: bold; font-size: 14px; }
        #dialogue-box { height: 55%; padding: 25px; box-sizing: border-box; background: #fff; display: flex; flex-direction: column; }
        #name-tag { font-size: 18px; font-weight: bold; color: #4a6741; margin-bottom: 12px; border-left: 5px solid #4a6741; padding-left: 10px; }
        #text-content { font-size: 15.5px; line-height: 1.7; margin-bottom: 20px; flex-grow: 1; overflow-y: auto; }
        .choices { display: flex; flex-direction: column; gap: 8px; }
        .choice-btn { padding: 12px; border: 1px solid #e0e0e0; border-radius: 12px; background: white; cursor: pointer; text-align: left; transition: 0.2s; font-size: 14px; }
        .choice-btn:hover { background: #f0f7f4; transform: translateX(5px); }

        /* ì—”ë”© í™”ë©´ ë³´ê°• */
        #ending-screen {
            display: none; position: absolute; top: 0; left: 0;
            width: 100%; height: 100%; background: #fdfaf6;
            flex-direction: column; justify-content: flex-start; align-items: center;
            text-align: center; padding: 20px; box-sizing: border-box; z-index: 10;
            overflow-y: auto;
        }
        #ending-char-img {
            width: 100%; max-height: 300px; object-fit: cover;
            border-radius: 15px; margin-bottom: 20px; border: 5px solid white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>

<div id="game-window">
    <div id="start-screen">
        <h1>ì†Œë‚˜ê¸°</h1>
        <p>í™©ìˆœì›ì˜ ë‹¨í¸ ì†Œì„¤ 'ì†Œë‚˜ê¸°'ì˜ ì£¼ì¸ê³µì´ ë˜ì–´ ë³´ì„¸ìš”.<br>ìˆœìˆ˜í•œ ì†Œë…„ì˜ ë§ˆìŒìœ¼ë¡œ ì†Œë…€ì—ê²Œ ë‹¤ê°€ê°€ ë³´ì„¸ìš”.</p>
        <button class="start-btn" onclick="startGame()">ì´ì•¼ê¸° ì‹œì‘</button>
    </div>

    <div id="scene-bg">
        <div id="stat-bar">ğŸŒ¿ ì†Œë…€ì™€ì˜ ìœ ëŒ€ê°: <span id="love-pts">0</span></div>
    </div>
    <div id="dialogue-box">
        <div id="name-tag">ì´ë¦„</div>
        <div id="text-content">ë¡œë”© ì¤‘...</div>
        <div class="choices" id="choices"></div>
    </div>

    <div id="ending-screen">
        <img id="ending-char-img" src="" alt="ì—”ë”© ìºë¦­í„° ì´ë¯¸ì§€">
        <h1 id="ending-title" style="color: #4a6741; margin: 10px 0;">ì—”ë”©</h1>
        <p id="ending-desc" style="line-height: 1.8; margin-bottom: 20px; padding: 0 10px;"></p>
        <button onclick="location.reload()" style="padding:12px 30px; cursor:pointer; background: #4a6741; color: white; border: none; border-radius: 25px;">ë‹¤ì‹œ í•˜ê¸°</button>
    </div>
</div>

<script>
    const gameData = [
        {
            id: 0, name: "ë‚˜ (ì†Œë…„)", text: "ê°œìš¸ê°€ ì§•ê²€ë‹¤ë¦¬ í•œê°€ìš´ë° ì†Œë…€ê°€ ì•‰ì•„ ìˆë‹¤. ì„œìš¸ì—ì„œ ì™”ë‹¤ëŠ” ìœ¤ ì´ˆì‹œë„¤ ì†ë…€ë”¸ì´ë‹¤. ë¹„ì¼œì¤„ ìƒê°ì„ ì•ŠëŠ” ê²ƒ ê°™ì€ë°...",
            img: "https://images.unsplash.com/photo-1543791187-df796fa11835?q=80&w=800",
            choices: [
                { text: "ë§ì—†ì´ ê°€ë§Œíˆ ê¸°ë‹¤ë¦°ë‹¤.", score: 10, next: 1 },
                { text: "\"ì €ê¸°... ë‚˜ ê±´ë„ˆê°€ì•¼ í•˜ëŠ”ë°.\"", score: 5, next: 1 },
                { text: "ì²¨ë²™ê±°ë¦¬ë©° ë¬¼ì„ íŠ€ê²¨ ì£¼ì˜ë¥¼ ëˆë‹¤.", score: 2, next: 1 }
            ]
        },
        {
            id: 1, name: "ì†Œë…€", text: "\"ì´ ë°”ë³´!\" ì†Œë…€ê°€ í•˜ì–€ ì¡°ì•½ëŒì„ ë˜ì§€ê³  ë‹¨ë°œë¨¸ë¦¬ë¥¼ ì‚´ë‘ì´ë©° ë›°ì–´ê°„ë‹¤. ë§‘ì€ ê°œìš¸ë¬¼ ì†Œë¦¬ë§Œ ë“¤ë¦°ë‹¤.",
            img: "https://images.unsplash.com/photo-1518495973542-4542c06a5843?q=80&w=500",
            choices: [
                { text: "ê·¸ ì¡°ì•½ëŒì„ ì†Œì¤‘íˆ ì£¼ì›Œ ì£¼ë¨¸ë‹ˆì— ë„£ëŠ”ë‹¤.", score: 10, next: 2 },
                { text: "ì¡°ì•½ëŒì„ ë‹¤ì‹œ ë©€ë¦¬ ë˜ì ¸ë²„ë¦°ë‹¤.", score: 0, next: 2 }
            ]
        },
        {
            id: 2, name: "ë‚˜ (ì†Œë…„)", text: "ì‚° ë„ˆë¨¸ë¡œ ë†€ëŸ¬ ê°„ ë‚ , ì†Œë…€ê°€ ì˜ˆìœ ë„ë¼ì§€ê½ƒì„ ë³´ê³  ê¸°ë»í•œë‹¤. ì–´ë–¤ ê½ƒì„ êº¾ì–´ì¤„ê¹Œ?",
            img: "https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?q=80&w=500",
            choices: [
                { text: "ì†Œë…€ê°€ ì¢‹ì•„í•˜ëŠ” ë³´ëë¹› ë„ë¼ì§€ê½ƒ", score: 10, next: 3 },
                { text: "ë…¸ë€ êµ­í™”ê½ƒ í•œ ì†¡ì´", score: 5, next: 3 }
            ]
        },
        {
            id: 3, name: "ì‹œìŠ¤í…œ", text: "ê°‘ìê¸° í•˜ëŠ˜ì´ ì–´ë‘ì›Œì§€ë”ë‹ˆ ì„¸ì°¬ ì†Œë‚˜ê¸°ê°€ ìŸì•„ì§„ë‹¤. ì†Œë…€ì˜ ì–´ê¹¨ê°€ ë–¨ë¦¬ê³  ìˆë‹¤.",
            img: "https://images.unsplash.com/photo-1534274988757-a28bf1a57c17?q=80&w=500",
            choices: [
                { text: "ë”°ëœ»í•œ ìˆ˜ìˆ˜ë‹¨ ì†ìœ¼ë¡œ ë°ë ¤ê°€ ë¹„ë¥¼ í”¼í•œë‹¤.", score: 10, next: 4 },
                { text: "í° ë‚˜ë¬´ ì•„ë˜ì—ì„œ ê²‰ì˜·ì„ ë®ì–´ì¤€ë‹¤.", score: 7, next: 4 }
            ]
        },
        {
            id: 4, name: "ë‚˜ (ì†Œë…„)", text: "ë„ë‘ë¬¼ì´ ë¶ˆì–´ë‚¬ë‹¤. ë‚˜ëŠ” ì†Œë…€ë¥¼ ë“±ì— ì—…ê³  ê±´ë„ˆê¸°ë¡œ í•œë‹¤. ì†Œë…€ì˜ ê°€ë²¼ìš´ ëª¸ë¬´ê²Œê°€ ë“±ì— ëŠê»´ì§„ë‹¤.",
            img: "https://images.unsplash.com/photo-1437622368342-7a3d73a34c8f?q=80&w=500",
            choices: [
                { text: "ì¡°ê¸ˆì´ë¼ë„ ì –ì§€ ì•Šê²Œ ê½‰ ì—…ê³  ê±´ë„Œë‹¤.", score: 10, next: 5 },
                { text: "ì§•ê²€ë‹¤ë¦¬ ë°”ìœ„ë¥¼ ì¡°ì‹¬ì¡°ì‹¬ ë°Ÿìœ¼ë©° ê±´ë„Œë‹¤.", score: 7, next: 5 }
            ]
        }
    ];

    let currentStep = 0;
    let totalScore = 0;

    function startGame() {
        document.getElementById('start-screen').style.display = 'none';
        renderScene();
    }

    function renderScene() {
        if (currentStep >= gameData.length) {
            showEnding();
            return;
        }

        const scene = gameData[currentStep];
        document.getElementById('scene-bg').style.backgroundImage = `url('${scene.img}')`;
        document.getElementById('name-tag').innerText = scene.name;
        document.getElementById('text-content').innerText = scene.text;
        document.getElementById('love-pts').innerText = totalScore;

        const choicesDiv = document.getElementById('choices');
        choicesDiv.innerHTML = '';
        scene.choices.forEach(choice => {
            const btn = document.createElement('button');
            btn.classList.add('choice-btn');
            btn.innerText = choice.text;
            btn.onclick = () => { totalScore += choice.score; currentStep++; renderScene(); };
            choicesDiv.appendChild(btn);
        });
    }

    function showEnding() {
        document.getElementById('dialogue-box').style.display = 'none';
        document.getElementById('scene-bg').style.display = 'none';
        const ending = document.getElementById('ending-screen');
        ending.style.display = 'flex';

        const title = document.getElementById('ending-title');
        const desc = document.getElementById('ending-desc');
        const img = document.getElementById('ending-char-img');

        if (totalScore >= 45) {
            title.innerText = "ğŸŒ¸ ì˜ì›íˆ ë¬»ì–´ë‘” ë³´ëë¹› ì¶”ì–µ";
            desc.innerHTML = "ë‹¹ì‹ ê³¼ ì†Œë…€ëŠ” ì§§ì§€ë§Œ ê°€ì¥ ìˆœìˆ˜í•œ ë§ˆìŒì„ ë‚˜ëˆ„ì—ˆìŠµë‹ˆë‹¤. ì†Œë…€ëŠ” ë‹¹ì‹ ê³¼ í•¨ê»˜ ë¹„ë¥¼ í”¼í•˜ë©° ë¬»ì€ <b>ì§„í™ë¬¼ì„ ì†Œì¤‘í•œ ì¶”ì–µ</b>ìœ¼ë¡œ ê°„ì§í•œ ì±„ ëˆˆì„ ê°ì•˜ìŠµë‹ˆë‹¤. ì†Œë…€ì˜ ìœ ì–¸ì€ ë‹¹ì‹ ê³¼ í•¨ê»˜í–ˆë˜ ê·¸ ì˜·ì„ ê·¸ëŒ€ë¡œ ì…í˜€ë‹¬ë¼ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.";
            // ì†Œë…„ê³¼ ì†Œë…€ê°€ í•¨ê»˜ ìˆëŠ” ì„œì •ì  ì´ë¯¸ì§€
            img.src = "https://images.unsplash.com/photo-1490730141103-6cac27aaab94?q=80&w=800";
        } else if (totalScore >= 25) {
            title.innerText = "â˜” ì –ì€ ì±„ë¡œ ë‚¨ì€ ê¸°ì–µ";
            desc.innerText = "ì†Œë…€ì™€ ì†Œì¤‘í•œ ì¶”ì–µì„ ë§Œë“¤ì—ˆì§€ë§Œ, ë§ˆì§€ë§‰ ì´ë³„ì€ ë„ˆë¬´ë‚˜ ê°‘ì‘ìŠ¤ëŸ¬ì› ìŠµë‹ˆë‹¤. ê°œìš¸ê°€ì—ì„œ ì†Œë…€ê°€ ë˜ì§„ í•˜ì–€ ì¡°ì•½ëŒë§Œì´ ì£¼ë¨¸ë‹ˆ ì†ì—ì„œ ì°¨ê°‘ê²Œ ì‹ì–´ê°‘ë‹ˆë‹¤.";
            // í˜¼ì ë‚¨ì€ ì†Œë…„ì˜ ëŠë‚Œ (í’ê²½)
            img.src = "https://images.unsplash.com/photo-1505833289633-899446f9060b?q=80&w=800";
        } else {
            title.innerText = "â˜ï¸ ì•ˆê°œ ë‚€ ê°œìš¸ê°€";
            desc.innerText = "ì†Œë…€ì˜ ì„œíˆ° ë§ˆìŒì„ ë‹¤ ì•Œì•„ì±„ì§€ ëª»í•œ ì±„ ì‹œê°„ì´ í˜ëŸ¬ë²„ë ¸ìŠµë‹ˆë‹¤. ì†Œë…€ëŠ” ë©€ë¦¬ì„œ ë‹¹ì‹ ì„ ë°”ë¼ë³´ë‹¤ ë– ë‚¬ì„ì§€ë„ ëª¨ë¦…ë‹ˆë‹¤. ì†Œì„¤ì„ ë‹¤ì‹œ ì½ê³  ì†Œë…€ì˜ ì§„ì‹¬ì„ ì°¾ì•„ë³´ì„¸ìš”.";
            // ì“¸ì“¸í•œ ì‹œê³¨ê¸¸ ì´ë¯¸ì§€
            img.src = "https://images.unsplash.com/photo-1500382017468-9049fed747ef?q=80&w=800";
        }
    }
</script>

</body>
</html>